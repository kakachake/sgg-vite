import{useState as G,useEffect as N,useRef as U}from"react";import*as P from"react/jsx-runtime";var F=typeof global=="object"&&global&&global.Object===Object&&global;const J=F;var q=typeof self=="object"&&self&&self.Object===Object&&self,V=J||q||Function("return this")();const R=V;var X=R.Symbol;const v=X;var _=Object.prototype,Y=_.hasOwnProperty,z=_.toString,T=v?v.toStringTag:void 0;function K(e){var t=Y.call(e,T),n=e[T];try{e[T]=void 0;var i=!0}catch{}var l=z.call(e);return i&&(t?e[T]=n:delete e[T]),l}var Q=Object.prototype,Z=Q.toString;function ee(e){return Z.call(e)}var te="[object Null]",ne="[object Undefined]",A=v?v.toStringTag:void 0;function re(e){return e==null?e===void 0?ne:te:A&&A in Object(e)?K(e):ee(e)}function ie(e){return e!=null&&typeof e=="object"}var oe="[object Symbol]";function ce(e){return typeof e=="symbol"||ie(e)&&re(e)==oe}var ae=/\s/;function le(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var se=/^\s+/;function de(e){return e&&e.slice(0,le(e)+1).replace(se,"")}function S(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $=0/0,fe=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,me=/^0o[0-7]+$/i,ge=parseInt;function L(e){if(typeof e=="number")return e;if(ce(e))return $;if(S(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=S(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=de(e);var n=ue.test(e);return n||me.test(e)?ge(e.slice(2),n?2:8):fe.test(e)?$:+e}var be=function(){return R.Date.now()};const j=be;var he="Expected a function",pe=Math.max,Te=Math.min;function ye(e,t,n){var i,l,f,r,c,o,s=0,u=!1,d=!1,b=!0;if(typeof e!="function")throw new TypeError(he);t=L(t)||0,S(n)&&(u=!!n.leading,d="maxWait"in n,f=d?pe(L(n.maxWait)||0,t):f,b="trailing"in n?!!n.trailing:b);function h(a){var m=i,p=l;return i=l=void 0,s=a,r=e.apply(p,m),r}function H(a){return s=a,c=setTimeout(y,t),u?h(a):r}function M(a){var m=a-o,p=a-s,k=t-m;return d?Te(k,f-p):k}function O(a){var m=a-o,p=a-s;return o===void 0||m>=t||m<0||d&&p>=f}function y(){var a=j();if(O(a))return I(a);c=setTimeout(y,M(a))}function I(a){return c=void 0,b&&i?h(a):(i=l=void 0,r)}function D(){c!==void 0&&clearTimeout(c),s=0,i=o=l=c=void 0}function W(){return c===void 0?r:I(j())}function E(){var a=j(),m=O(a);if(i=arguments,l=this,o=a,m){if(c===void 0)return H(o);if(d)return clearTimeout(c),c=setTimeout(y,t),h(o)}return c===void 0&&(c=setTimeout(y,t)),r}return E.cancel=D,E.flush=W,E}var xe="Expected a function";function ve(e,t,n){var i=!0,l=!0;if(typeof e!="function")throw new TypeError(xe);return S(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),ye(e,t,{leading:i,maxWait:t,trailing:l})}const B=56;function Se(e,t){if(!e)return;console.log("scrollToTarget",e,t);const n=parseInt(window.getComputedStyle(e).paddingTop),i=window.scrollY+e.getBoundingClientRect().top+n-B;console.log("scrollToTarget",e,t),window.scrollTo({left:0,top:i,behavior:t?"smooth":"auto"})}function Ee(){console.log("bind");const e=document.getElementById("aside-marker"),t=document.getElementById("aside-container"),n=Array.from((t==null?void 0:t.getElementsByTagName("a"))||[]).map(r=>decodeURIComponent(r.hash));if(!t)return;const i=(r,c)=>{if(r[c]){const o=r[c].getAttribute("href"),s=n.findIndex(d=>d===o);(t==null?void 0:t.querySelector(`a[href="${o}"]`))&&(e.style.top=`${33+s*28}px`,e.style.opacity="1")}},f=ve(()=>{const r=Array.from(document.querySelectorAll(".island-doc .header-anchor")).filter(o=>{var s;return((s=o.parentElement)==null?void 0:s.tagName)!=="H1"});if(document.documentElement.scrollTop+window.innerHeight>=document.documentElement.scrollHeight){i(r,r.length-1);return}for(let o=0;o<r.length;o++){const s=r[o],u=r[o+1],d=Math.ceil(window.scrollY)+B,b=s.parentElement.offsetTop;if(!u){i(r,o);break}if(o===0&&d<b||d===0){i(r,0);break}const h=u.parentElement.offsetTop;if(d>=b&&d<h){i(r,o);break}}},100);return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}}function je(e){const[t,n]=G(e);return N(()=>{console.log("env",{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0})}),t}const w={islandProps:[],islandToPathMap:{}},x=P.jsx,we=P.jsxs,C=(e,t,n,...i)=>{if(n&&n.__island){w.islandProps.push(n);const l=t.name;return w.islandToPathMap[l]=n.__island,delete n.__island,x("div",{__island:`${l}:${w.islandProps.length-1}`,children:x(t,n,...i)})}return x(t,n,...i)},g=C.bind(null,x),Oe=C.bind(null,we);function Ie(e){const{toc:t=[]}=e,n=je(t),i=t.length>0;N(()=>{const r=Ee();return()=>{r()}},[]);const l=U(null);function f(r){const{id:c,text:o,depth:s}=r;return g("li",{className:"block leading-7 text-text-2 hover:text-text-1",transition:"color duration-300",style:{paddingLeft:(s-2)*12},children:g("a",{href:`#${c}`,onClick:u=>{u.preventDefault();const d=document.getElementById(r.id);Se(d,!0)},children:o})},c)}return g("div",{flex:"~ col 1",style:{width:"var(--island-aside-width)"},children:g("div",{children:i&&Oe("div",{id:"aside-container",className:"relative divider-left pl-4 text-13px font-medium",children:[g("div",{ref:l,id:"aside-marker",className:"absolute top-33px opacity-0 w-1px h-18px bg-brand",style:{left:"-1px",transition:"top 0.25s cubic-bezier(0, 1, 0.5, 1), background-color 0.5s, opacity 0.25s"}}),g("div",{"leading-7":"~",text:"13px",font:"semibold",children:"ON THIS PAGE"}),g("nav",{children:g("ul",{relative:"~",children:n.map(f)})})]})})})}window.ISLANDS={Aside:Ie};window.ISLAND_PROPS=JSON.parse(document.getElementById("island-props").textContent);
